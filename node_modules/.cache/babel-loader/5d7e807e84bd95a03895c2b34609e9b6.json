{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041C\\u0430\\u0440\\u0438\\u043D\\u0430\\\\Documents\\\\GitHub\\\\Sirpositiveparadox.github.io-Form\\\\src\\\\Form.js\";\nimport React, { Component } from 'react';\nimport './Form.css';\nimport axios from 'axios';\n\nclass Form extends Component {\n  constructor() {\n    super();\n    this.state = {\n      fields: {},\n      errors: {},\n      showMsg: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n  }\n\n  handleChange(e) {\n    let fields = this.state.fields;\n    fields[e.target.name] = e.target.value;\n    this.setState({\n      fields: fields\n    });\n  }\n\n  validateForm() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formValid = true;\n\n    if (!fields['email']) {\n      formValid = false;\n      errors['email'] = '* Please enter your email address.';\n    }\n\n    if (typeof fields['email'] !== 'undefined') {\n      let pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n\n      if (!pattern.test(fields['email'])) {\n        formValid = false;\n        errors['email'] = \"* Please enter a valid email address.\";\n      }\n    }\n\n    if (!fields.text) {\n      formValid = false;\n      errors['text'] = '* Please enter your text.';\n    }\n\n    ;\n\n    if (fields.text && fields.text.length > 0 && fields.text.length < 10) {\n      formValid = false;\n      errors['text'] = '* Feedback message must contain at least 10 characters.';\n    }\n\n    if (fields.text && fields.text.length > 200) {\n      formValid = false;\n      errors['text'] = '* Maximum amount of characters: 200.';\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formValid;\n  }\n\n  submitForm(e) {\n    e.preventDefault(); // this.setState({\n    // \tshowMsg:false\n    // });\n\n    if (this.validateForm()) {\n      let data = {\n        email: this.state.fields.email,\n        text: this.state.fields.text\n      };\n      let url = 'https://dev.choicy.com/api/feedback';\n      axios.post(url, data).then(response => {\n        this.setState({\n          showMsg: true\n        });\n      }).catch(err => {\n        if (err.response.status === 500) {\n          this.setState({\n            errors: {\n              common: 'Server error'\n            }\n          });\n        }\n\n        if (err.response.status === 422) {\n          this.setState({\n            errors: err.response.errors\n          });\n        }\n      });\n    } // this.setState({fields:fields});\n\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"feedback\",\n      action: \"https://choicy.com/feedback\",\n      method: \"post\",\n      onSubmit: this.submitForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Get in Touch\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Please fill out the quick form and we will be in touch with lightening speed.\"), this.state.showMsg && React.createElement(\"div\", {\n      className: \"showMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.state.showMsg), React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      className: \"email\",\n      placeholder: \"Your Email address\",\n      value: this.state.fields.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), this.state.errors.email && React.createElement(\"div\", {\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.state.errors.email), React.createElement(\"label\", {\n      htmlFor: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Message\"), React.createElement(\"textarea\", {\n      name: \"text\",\n      className: \"message\",\n      rows: \"4\",\n      cols: \"10\",\n      placeholder: \"Message\",\n      value: this.state.fields.text,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), this.state.errors.text && React.createElement(\"div\", {\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.state.errors.text), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"button\",\n      value: \"SUBMIT\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["C:/Users/Марина/Documents/GitHub/Sirpositiveparadox.github.io-Form/src/Form.js"],"names":["React","Component","axios","Form","constructor","state","fields","errors","showMsg","handleChange","bind","submitForm","e","target","name","value","setState","validateForm","formValid","pattern","RegExp","test","text","length","preventDefault","data","email","url","post","then","response","catch","err","status","common","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './Form.css';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Form extends Component {\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tfields: {},\r\n\t\t\terrors: {},\r\n\t\t\tshowMsg: false\r\n\t\t}\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.submitForm = this.submitForm.bind(this);\r\n\t};\r\n\r\n\thandleChange(e) {\r\n\t\tlet fields = this.state.fields;\r\n\t\tfields[e.target.name] = e.target.value;\r\n\t\tthis.setState ({\r\n\t\t\tfields: fields\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\tvalidateForm() {\r\n\t\tlet fields = this.state.fields;\r\n\t\tlet errors = {};\r\n\t\tlet formValid = true;\r\n\r\n\t\tif (!fields['email']) {\r\n\t\t\tformValid = false;\r\n\t\t\terrors['email'] = '* Please enter your email address.';\r\n\t\t}\r\n\r\n\t\tif (typeof fields['email'] !== 'undefined') {\r\n\t\t\tlet pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\r\n\t        if (!pattern.test(fields['email'])) {\r\n\t\t          formValid = false;\r\n\t\t          errors['email'] = \"* Please enter a valid email address.\";\r\n\t\t      }\r\n\t\t}\r\n\r\n\t\tif (!fields.text) {\r\n\t\t\tformValid = false;\r\n\t\t\terrors['text'] = '* Please enter your text.';\r\n\t\t};\r\n\r\n\t\tif (fields.text && fields.text.length > 0 && fields.text.length < 10){\r\n\r\n\t\t\tformValid = false;\r\n\t\t\terrors['text'] = '* Feedback message must contain at least 10 characters.';\r\n\t\t}\r\n\r\n\t\tif (fields.text && fields.text.length > 200) {\r\n\t\t\tformValid = false;\r\n\t\t\terrors['text'] = '* Maximum amount of characters: 200.';\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\terrors: errors\r\n\t\t});\r\n\r\n\t\treturn formValid;\r\n\t}\r\n\r\n\r\n\r\n\t\tsubmitForm(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\t// this.setState({\r\n\t\t\t// \tshowMsg:false\r\n\t\t\t// });\r\n\r\n\t\t\tif (this.validateForm()) {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\temail: this.state.fields.email,\r\n\t\t\t\t\ttext: this.state.fields.text\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tlet url = 'https://dev.choicy.com/api/feedback';\r\n\r\n\t\t\t\taxios.post(url, data)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tshowMsg:true\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tif(err.response.status === 500) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\terrors: {\r\n\t\t\t\t\t\t\t\tcommon: 'Server error'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(err.response.status === 422) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\terrors: err.response.errors\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// this.setState({fields:fields});\r\n\t\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\r\n\t\t\t<form className=\"feedback\" action=\"https://choicy.com/feedback\" method=\"post\" onSubmit= {this.submitForm}>\r\n\t\t\t\t<h1>Get in Touch</h1>\r\n\t\t\t\t<p>Please fill out the quick form and we will be in touch with lightening speed.</p>\r\n\t\t\t\t{this.state.showMsg &&\r\n\t\t\t\t\t<div className=\"showMsg\">{this.state.showMsg}</div>\r\n\t\t\t\t}\r\n\t\t\t\t<label htmlFor=\"email\">Email</label>\r\n\t\t\t\t<input type=\"email\" name=\"email\" className=\"email\" placeholder=\"Your Email address\" value= {this.state.fields.email} onChange={this.handleChange} />\r\n\t\t\t\t{this.state.errors.email && \r\n\t\t\t\t\t<div className=\"error\">{this.state.errors.email}</div>\r\n\t\t\t\t}\r\n\t\t\t\t<label htmlFor=\"text\">Message</label>\r\n\t\t\t\t<textarea name=\"text\" className=\"message\" rows=\"4\" cols=\"10\" placeholder=\"Message\" value= {this.state.fields.text}\tonChange={this.handleChange} />\r\n\t\t\t\t{this.state.errors.text &&\r\n\t\t\t\t\t<div className=\"error\">{this.state.errors.text}</div>\r\n\t\t\t\t}\r\n\t\t\t\t<input type=\"submit\" className=\"button\"  value=\"SUBMIT\"/>\r\n\t\t\t\t</form>\r\n\t\t\t);\r\n\r\n}\r\n\r\n}\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}